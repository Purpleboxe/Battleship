(()=>{var t={663:(t,e,s)=>{const i=s(758);t.exports=class extends i{constructor(){super(),this.previousAttacks=[],this.berserk=!1,this.direction=null,this.attacks=1,this.look=!1}makeRandomAttack(t){let e,s;if(this.berserk){const i=this.previousAttacks[this.previousAttacks.length-this.attacks],{row:r,col:n}=i,o=[{row:-1,col:0},{row:1,col:0},{row:0,col:-1},{row:0,col:1}];if(this.direction){const i=o.find((t=>t.row===this.direction.row&&t.col===this.direction.col)),c=r+i.row,a=n+i.col;if(c>=0&&c<10&&a>=0&&a<10&&!this.previousAttacks.some((t=>t.row===c&&t.col===a)))e=c,s=a;else{const i=o.filter((t=>{const e=r+t.row,s=n+t.col;return e>=0&&e<10&&s>=0&&s<10&&!this.previousAttacks.some((t=>t.row===e&&t.col===s))}));if(!(i.length>0))return this.direction=null,this.berserk=!1,this.makeRandomAttack(t);this.direction=i[Math.floor(Math.random()*i.length)],e=r+this.direction.row,s=n+this.direction.col}}else{const i=o.filter((t=>{const e=r+t.row,s=n+t.col;return e>=0&&e<10&&s>=0&&s<10&&!this.previousAttacks.some((t=>t.row===e&&t.col===s))}));if(!(i.length>0))return this.berserk=!1,this.direction=null,this.makeRandomAttack(t);this.direction=i[Math.floor(Math.random()*i.length)],e=r+this.direction.row,s=n+this.direction.col,null===t.grid[e][s]&&(this.attacks+=1)}const c=t.grid[e][s];(null===c||c.isSunk())&&(this.direction=null,this.berserk=!1)}else{if(this.attacks=1,Math.random()<.2)do{e=Math.floor(10*Math.random()),s=Math.floor(10*Math.random())}while(this.previousAttacks.some((t=>t.row===e&&t.col===s))||null===t.grid[e][s]);else do{e=Math.floor(10*Math.random()),s=Math.floor(10*Math.random())}while(this.previousAttacks.some((t=>t.row===e&&t.col===s)));null===t.grid[e][s]||t.grid[e][s].isSunk()||(this.berserk=!0)}return this.previousAttacks.push({row:e,col:s}),this.attack(t,e,s)}placeShipsRandomly(){this.shipsToPlace.forEach((t=>{let e=!1;for(;!e;){const s=Math.floor(10*Math.random()),i=Math.floor(10*Math.random()),r=Math.random()<.5;t.isVertical=r,e=this.gameboard.placeShip(t,s,i)}}))}reset(){super.reset(),this.previousAttacks=[],this.berserk=!1,this.direction=null,this.attacks=1}}},82:(t,e,s)=>{const i=s(758),r=s(663);function n(){!function(t,e){const s=document.getElementById("placeShip"),i=document.getElementById("placeBoard"),r=document.querySelector(".overlay"),c=document.querySelector(".rotate");let a=!1;c.onclick=()=>{a=!a};const l=(i,c)=>{if(t.currentShip&&(t.currentShip.isVertical=a,t.gameboard.placeShip(t.currentShip,i,c))){if(document.getElementById(`${i}${c}`).classList.add("placed"),a)for(let e=0;e<t.currentShip.length;e+=1){const t=document.getElementById(`${i+e}${c}`);t&&t.classList.add("placed")}else for(let e=0;e<t.currentShip.length;e+=1){const t=document.getElementById(`${i}${c+e}`);t&&t.classList.add("placed")}t.nextShipToPlace(),t.currentShip||(e.placeShipsRandomly(),function(t,e){const s=document.getElementById("playerBoard"),i=document.getElementById("computerBoard"),r=document.getElementById("gameOver"),c=document.querySelector(".overlay"),a=document.querySelector(".restart"),l=document.querySelector(".playerShips"),h=document.querySelector(".computerShips");let d=!1;s.innerHTML="",i.innerHTML="",o(s,t,!0),o(i,e),l.innerHTML=`Ships: ${t.gameboard.amountOfShipsSunk()}`,h.innerHTML=`Ships: ${e.gameboard.amountOfShipsSunk()}`;const u=()=>{const o=document.querySelector(".verdict"),d=()=>{r.classList.remove("active"),c.classList.remove("active"),s.innerHTML="",i.innerHTML="",l.innerHTML="Ships: ",h.innerHTML="Ships: ",n()};return e.gameboard.allShipsSunk()?(o.innerText="You Win!",o.classList.remove("win","lose"),o.classList.add("win"),r.classList.add("active"),c.classList.add("active"),a.addEventListener("click",d),!0):!!t.gameboard.allShipsSunk()&&(o.innerText="You Lose!",o.classList.remove("win","lose"),o.classList.add("lose"),r.classList.add("active"),c.classList.add("active"),a.addEventListener("click",d),!0)};i.addEventListener("click",(r=>{if(d)return;const n=r.target;if(t.attack(e.gameboard,n.id[0],n.id[1])){if(o(i,e),u())return void(d=!0);e.makeRandomAttack(t.gameboard),o(s,t,!0),u()&&(d=!0)}l.innerHTML=`Ships: ${t.gameboard.amountOfShipsSunk()}`,h.innerHTML=`Ships: ${e.gameboard.amountOfShipsSunk()}`}))}(t,e),s.classList.remove("active"),r.classList.remove("active"))}},h=(e,s,i)=>{const r=document.getElementById(`${e}${s}`);if(i){if(r.classList.add("active"),t.currentShip)if(a)for(let i=0;i<t.currentShip.length;i+=1){const t=document.getElementById(`${e+i}${s}`);t&&t.classList.add("active")}else for(let i=0;i<t.currentShip.length;i+=1){const t=document.getElementById(`${e}${s+i}`);t&&t.classList.add("active")}}else{if(r.classList.remove("active"),!t.currentShip)return;for(let i=0;i<=t.currentShip.length;i+=1){const t=document.getElementById(`${e}${s+i}`),r=document.getElementById(`${e+i}${s}`);t&&t.classList.remove("active"),r&&r.classList.remove("active")}}};s.classList.add("active"),r.classList.add("active"),i.innerHTML="",(()=>{for(let t=0;t<10;t+=1){const e=document.createElement("div");e.classList.add("row"),i.appendChild(e);for(let s=0;s<10;s+=1){const i=document.createElement("div");i.classList.add("preview"),i.setAttribute("id",`${t}${s}`),i.addEventListener("click",(()=>l(t,s))),i.addEventListener("mouseover",(()=>h(t,s,!0))),i.addEventListener("mouseout",(()=>h(t,s,!1))),e.appendChild(i)}}})()}(new i,new r)}function o(t,e,s){t.innerHTML="";for(let i=0;i<10;i+=1){const r=document.createElement("div");r.classList.add("row"),t.appendChild(r);for(let t=0;t<10;t+=1){const n=document.createElement("div");n.classList.add("cell");const o=e.gameboard.grid[i][t];o&&o.isSunk()?n.classList.add("sunk"):o&&o.isHit(i,t)?n.classList.add("hit"):null===e.gameboard.grid[i][t]&&e.gameboard.missedAttacks.some((e=>e.row==i&&e.col==t))?n.classList.add("miss"):o&&s&&n.classList.add("show"),n.setAttribute("id",`${i}${t}`),r.appendChild(n)}}}t.exports=n},112:t=>{t.exports=class{constructor(){this.grid=[];for(let t=0;t<10;t+=1)this.grid.push(Array(10).fill(null));this.ships=[],this.missedAttacks=[],this.numberOfShips=this.ships.length}placeShip(t,e,s){if(this.checkShipPlacement(t,e,s)){t.setPosition(e,s);for(let i=0;i<t.length;i+=1)t.isVertical?this.grid[e+i][s]=t:t.isVertical||(this.grid[e][s+i]=t);return this.ships.push(t),!0}return!1}checkShipPlacement(t,e,s){if(t.isVertical){if(e+t.length>10)return!1}else if(!t.isVertical&&s+t.length>10)return!1;for(let i=0;i<t.length;i+=1)if(t.isVertical){if(null!==this.grid[e+i][s])return!1}else if(!t.isVertical&&null!==this.grid[e][s+i])return!1;return!0}receiveAttack(t,e){if(null===this.grid[t][e]&&this.missedAttacks.some((s=>s.row===t&&s.col===e)))return!1;if(null===this.grid[t][e])return this.missedAttacks.push({row:t,col:e}),!0;const s=this.grid[t][e];if(!s.isSunk()&&null!==this.grid[t][e]){let i;if(i=!0===s.isVertical?t-s.row:e-s.col,s.hit(i))return!0}return!1}allShipsSunk(){return this.ships.every((t=>t.isSunk()))}amountOfShipsSunk(){this.numberOfShips=this.ships.length;for(let t=0;t<this.ships.length;t+=1)this.ships[t].isSunk()&&(this.numberOfShips-=1);return this.numberOfShips}}},758:(t,e,s)=>{const i=s(112),r=s(547);t.exports=class{constructor(){this.gameboard=new i,this.shipsToPlace=[new r(4,!1),new r(3,!1),new r(3,!1),new r(2,!1),new r(2,!1),new r(2,!1),new r(1,!1),new r(1,!1),new r(1,!1),new r(1,!1)],this.currentShip=this.shipsToPlace[0]}nextShipToPlace(){this.shipsToPlace.shift(),this.currentShip=this.shipsToPlace[0]}attack(t,e,s){return t.receiveAttack(e,s)}reset(){this.gameboard=new i}}},547:t=>{t.exports=class{constructor(t,e){this.length=t,this.isVertical=e,this.hits=Array(t).fill(!1),this.row=null,this.col=null}setPosition(t,e){this.row=t,this.col=e}hit(t){return!1===this.hits[t]&&!this.isSunk()&&(this.hits[t]=!0,!0)}isHit(t,e){return this.isVertical?this.hits[t-this.row]:this.hits[e-this.col]}isSunk(){return this.hits.every((t=>t))}}}},e={};!function s(i){var r=e[i];if(void 0!==r)return r.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}(82)()})();